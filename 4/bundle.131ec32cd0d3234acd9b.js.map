{"version":3,"file":"bundle.131ec32cd0d3234acd9b.js","mappings":"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","sources":["webpack://big-trip/./src/render.js","webpack://big-trip/./src/view/point-edit-view.js","webpack://big-trip/./src/view/board-view.js","webpack://big-trip/./src/view/point-view.js","webpack://big-trip/./src/view/sort-view.js","webpack://big-trip/./src/mock/destinations-data.js","webpack://big-trip/./src/main.js","webpack://big-trip/./src/mock/offers-data.js","webpack://big-trip/./src/mock/points-data.js","webpack://big-trip/./src/model/destinations-model.js","webpack://big-trip/./src/model/offers-model.js","webpack://big-trip/./src/model/trips-model.js","webpack://big-trip/./src/utils.js","webpack://big-trip/./src/presenter/board-presenter.js","webpack://big-trip/./src/view/filter-view.js","webpack://big-trip/./src/view/new-point-button-view.js"],"sourcesContent":["const RenderPosition = {\n  BEFOREBEGIN: 'beforebegin',\n  AFTERBEGIN: 'afterbegin',\n  BEFOREEND: 'beforeend',\n  AFTEREND: 'afterend',\n};\n\nfunction createElement(template) {\n  const newElement = document.createElement('div');\n  newElement.innerHTML = template;\n\n  return newElement.firstElementChild;\n}\n\nfunction render(component, container, place = RenderPosition.BEFOREEND) {\n  container.insertAdjacentElement(place, component.element);\n}\n\nexport {RenderPosition, createElement, render};\n","import { createElement } from '../render.js';\n\nconst POINT_TYPES = ['taxi', 'bus', 'train', 'ship', 'drive', 'flight', 'check-in', 'sightseeing', 'restaurant'];\n\nfunction createPointTypeTemplate(type, currentType) {\n  return POINT_TYPES.map((pointType) => `\n    <div class=\"event__type-item\">\n      <input\n        id=\"event-type-${pointType}-1\"\n        class=\"event__type-input visually-hidden\"\n        type=\"radio\"\n        name=\"event-type\"\n        value=\"${pointType}\"\n        ${currentType === pointType ? 'checked' : ''}\n      >\n      <label\n        class=\"event__type-label event__type-label--${pointType}\"\n        for=\"event-type-${pointType}-1\"\n      >\n        ${pointType.charAt(0).toUpperCase() + pointType.slice(1)}\n      </label>\n    </div>\n  `).join('');\n}\n\nfunction createDestinationListTemplate(destinations) {\n  return destinations.map((destination) => `\n    <option value=\"${destination.name}\"></option>\n  `).join('');\n}\n\nfunction createOffersTemplate(offers, selectedOffers = []) {\n  if (!offers.length) {\n    return '';\n  }\n\n  return `\n    <section class=\"event__section  event__section--offers\">\n      <h3 class=\"event__section-title  event__section-title--offers\">Offers</h3>\n      <div class=\"event__available-offers\">\n        ${offers.map((offer) => `\n          <div class=\"event__offer-selector\">\n            <input\n              class=\"event__offer-checkbox visually-hidden\"\n              id=\"event-offer-${offer.id}\"\n              type=\"checkbox\"\n              name=\"event-offer-${offer.id}\"\n              ${selectedOffers.includes(offer.id) ? 'checked' : ''}\n            >\n            <label class=\"event__offer-label\" for=\"event-offer-${offer.id}\">\n              <span class=\"event__offer-title\">${offer.title}</span>\n              &plus;&euro;&nbsp;\n              <span class=\"event__offer-price\">${offer.price}</span>\n            </label>\n          </div>\n        `).join('')}\n      </div>\n    </section>\n  `;\n}\n\nfunction createDestinationTemplate(destination) {\n  if (!destination) {\n    return '';\n  }\n\n  return `\n    <section class=\"event__section  event__section--destination\">\n      <h3 class=\"event__section-title  event__section-title--destination\">Destination</h3>\n      <p class=\"event__destination-description\">${destination.description}</p>\n      ${destination.pictures.length ? `\n        <div class=\"event__photos-container\">\n          <div class=\"event__photos-tape\">\n            ${destination.pictures.map((picture) => `\n              <img class=\"event__photo\" src=\"${picture.src}\" alt=\"${picture.description}\">\n            `).join('')}\n          </div>\n        </div>\n      ` : ''}\n    </section>\n  `;\n}\n\nfunction createPointEditTemplate(point = {}, destinations = [], offers = []) {\n  const {\n    type = 'flight',\n    destination: destinationId,\n    basePrice = '',\n    dateFrom = new Date(),\n    dateTo = new Date(),\n    offers: selectedOffers = []\n  } = point;\n\n  const destination = destinations.find((dest) => dest.id === destinationId);\n  const availableOffers = offers.find((offer) => offer.type === type)?.offers || [];\n\n  return `\n    <form class=\"event event--edit\" action=\"#\" method=\"post\">\n      <header class=\"event__header\">\n        <div class=\"event__type-wrapper\">\n          <label class=\"event__type event__type-btn\" for=\"event-type-toggle-1\">\n            <span class=\"visually-hidden\">Choose event type</span>\n            <img class=\"event__type-icon\" width=\"17\" height=\"17\" src=\"img/icons/${type}.png\" alt=\"Event type icon\">\n          </label>\n          <input class=\"event__type-toggle visually-hidden\" id=\"event-type-toggle-1\" type=\"checkbox\">\n\n          <div class=\"event__type-list\">\n            <fieldset class=\"event__type-group\">\n              <legend class=\"visually-hidden\">Event type</legend>\n              ${createPointTypeTemplate(type)}\n            </fieldset>\n          </div>\n        </div>\n\n        <div class=\"event__field-group event__field-group--destination\">\n          <label class=\"event__label event__type-output\" for=\"event-destination-1\">\n            ${type}\n          </label>\n          <input\n            class=\"event__input event__input--destination\"\n            id=\"event-destination-1\"\n            type=\"text\"\n            name=\"event-destination\"\n            value=\"${destination ? destination.name : ''}\"\n            list=\"destination-list-1\"\n          >\n          <datalist id=\"destination-list-1\">\n            ${createDestinationListTemplate(destinations)}\n          </datalist>\n        </div>\n\n        <div class=\"event__field-group event__field-group--time\">\n          <label class=\"visually-hidden\" for=\"event-start-time-1\">From</label>\n          <input\n            class=\"event__input event__input--time\"\n            id=\"event-start-time-1\"\n            type=\"text\"\n            name=\"event-start-time\"\n            value=\"${dateFrom}\"\n          >\n          &mdash;\n          <label class=\"visually-hidden\" for=\"event-end-time-1\">To</label>\n          <input\n            class=\"event__input event__input--time\"\n            id=\"event-end-time-1\"\n            type=\"text\"\n            name=\"event-end-time\"\n            value=\"${dateTo}\"\n          >\n        </div>\n\n        <div class=\"event__field-group event__field-group--price\">\n          <label class=\"event__label\" for=\"event-price-1\">\n            <span class=\"visually-hidden\">Price</span>\n            &euro;\n          </label>\n          <input\n            class=\"event__input event__input--price\"\n            id=\"event-price-1\"\n            type=\"text\"\n            name=\"event-price\"\n            value=\"${basePrice}\"\n          >\n        </div>\n\n        <button class=\"event__save-btn btn btn--blue\" type=\"submit\">Save</button>\n        <button class=\"event__reset-btn\" type=\"reset\">Delete</button>\n        <button class=\"event__rollup-btn\" type=\"button\">\n          <span class=\"visually-hidden\">Open event</span>\n        </button>\n      </header>\n      <section class=\"event__details\">\n        ${createOffersTemplate(availableOffers, selectedOffers)}\n        ${createDestinationTemplate(destination)}\n      </section>\n    </form>\n  `;\n}\n\nexport { createPointEditTemplate };\nexport default class PointEditView {\n  #element = null;\n  #point = null;\n  #destinations = null;\n  #offers = null;\n\n  constructor(point, destinations, offers) {\n    this.#point = point;\n    this.#destinations = destinations;\n    this.#offers = offers;\n  }\n\n  get template() {\n    return createPointEditTemplate(this.#point, this.#destinations, this.#offers);\n  }\n\n  get element() {\n    if (!this.#element) {\n      this.#element = createElement(this.template);\n    }\n\n    return this.#element;\n  }\n\n  removeElement() {\n    this.#element = null;\n  }\n}\n","import { createElement } from '../render.js';\n\nfunction createBoardTemplate() {\n  return '<ul class=\"trip-events__list\"></ul>';\n}\n\nexport default class BoardView {\n  #element = null;\n\n  get template() {\n    return createBoardTemplate();\n  }\n\n  get element() {\n    if (!this.#element) {\n      this.#element = createElement(this.template);\n    }\n\n    return this.#element;\n  }\n\n  removeElement() {\n    this.#element = null;\n  }\n}\n","import { createElement } from '../render.js';\n\nfunction createSelectedOffersTemplate(point, offers) {\n  const availableOffers = offers.find((offer) => offer.type === point.type)?.offers || [];\n  const selectedOffers = availableOffers.filter((offer) => point.offers.includes(offer.id));\n\n  return selectedOffers.map((offer) => `\n    <li class=\"event__offer\">\n      <span class=\"event__offer-title\">${offer.title}</span>\n      &plus;&euro;&nbsp;\n      <span class=\"event__offer-price\">${offer.price}</span>\n    </li>\n  `).join('');\n}\n\nfunction formatDate(date) {\n  const dateObj = new Date(date);\n  const month = dateObj.toLocaleString('en-US', { month: 'short' }).toUpperCase();\n  const day = dateObj.getDate().toString().padStart(2, '0');\n  return `${month} ${day}`;\n}\n\nfunction formatTime(date) {\n  const dateObj = new Date(date);\n  return dateObj.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: false });\n}\n\nfunction getDuration(dateFrom, dateTo) {\n  const start = new Date(dateFrom);\n  const end = new Date(dateTo);\n  const diff = end - start;\n\n  const minutes = Math.floor(diff / 1000 / 60);\n  const hours = Math.floor(minutes / 60);\n  const days = Math.floor(hours / 24);\n\n  if (days > 0) {\n    return `${days}D ${hours % 24}H ${minutes % 60}M`;\n  }\n  if (hours > 0) {\n    return `${hours}H ${minutes % 60}M`;\n  }\n  return `${minutes}M`;\n}\n\nfunction createPointTemplate(point, destinations, offers) {\n  const destination = destinations.find((dest) => dest.id === point.destination);\n\n  return `\n    <li class=\"trip-events__item\">\n      <div class=\"event\">\n        <time class=\"event__date\" datetime=\"${point.dateFrom}\">${formatDate(point.dateFrom)}</time>\n        <div class=\"event__type\">\n          <img class=\"event__type-icon\" width=\"42\" height=\"42\" src=\"img/icons/${point.type}.png\" alt=\"Event type icon\">\n        </div>\n        <h3 class=\"event__title\">${point.type} ${destination ? destination.name : ''}</h3>\n        <div class=\"event__schedule\">\n          <p class=\"event__time\">\n            <time class=\"event__start-time\" datetime=\"${point.dateFrom}\">${formatTime(point.dateFrom)}</time>\n            &mdash;\n            <time class=\"event__end-time\" datetime=\"${point.dateTo}\">${formatTime(point.dateTo)}</time>\n          </p>\n          <p class=\"event__duration\">${getDuration(point.dateFrom, point.dateTo)}</p>\n        </div>\n        <p class=\"event__price\">\n          &euro;&nbsp;<span class=\"event__price-value\">${point.basePrice}</span>\n        </p>\n        <h4 class=\"visually-hidden\">Offers:</h4>\n        <ul class=\"event__selected-offers\">\n          ${createSelectedOffersTemplate(point, offers)}\n        </ul>\n        <button class=\"event__favorite-btn ${point.isFavorite ? 'event__favorite-btn--active' : ''}\" type=\"button\">\n          <span class=\"visually-hidden\">Add to favorite</span>\n          <svg class=\"event__favorite-icon\" width=\"28\" height=\"28\" viewBox=\"0 0 28 28\">\n            <path d=\"M14 21l-8.22899 4.3262 1.57159-9.1631L.685209 9.67376 9.8855 8.33688 14 0l4.1145 8.33688 9.2003 1.33688-6.6574 6.48934 1.5716 9.1631L14 21z\"/>\n          </svg>\n        </button>\n        <button class=\"event__rollup-btn\" type=\"button\">\n          <span class=\"visually-hidden\">Open event</span>\n        </button>\n      </div>\n    </li>\n  `;\n}\n\nexport default class PointView {\n  #element = null;\n  #point = null;\n  #destinations = null;\n  #offers = null;\n\n  constructor(point, destinations, offers) {\n    this.#point = point;\n    this.#destinations = destinations;\n    this.#offers = offers;\n  }\n\n  get template() {\n    return createPointTemplate(this.#point, this.#destinations, this.#offers);\n  }\n\n  get element() {\n    if (!this.#element) {\n      this.#element = createElement(this.template);\n    }\n\n    return this.#element;\n  }\n\n  removeElement() {\n    this.#element = null;\n  }\n}\n","import {createElement} from '../render.js';\n\nfunction createSortTemplate() {\n  return (`<form class=\"trip-events__trip-sort  trip-sort\" action=\"#\" method=\"get\">\n            <div class=\"trip-sort__item  trip-sort__item--day\">\n              <input id=\"sort-day\" class=\"trip-sort__input  visually-hidden\" type=\"radio\" name=\"trip-sort\" value=\"sort-day\" checked>\n              <label class=\"trip-sort__btn\" for=\"sort-day\">Day</label>\n            </div>\n\n            <div class=\"trip-sort__item  trip-sort__item--event\">\n              <input id=\"sort-event\" class=\"trip-sort__input  visually-hidden\" type=\"radio\" name=\"trip-sort\" value=\"sort-event\" disabled>\n              <label class=\"trip-sort__btn\" for=\"sort-event\">Event</label>\n            </div>\n\n            <div class=\"trip-sort__item  trip-sort__item--time\">\n              <input id=\"sort-time\" class=\"trip-sort__input  visually-hidden\" type=\"radio\" name=\"trip-sort\" value=\"sort-time\">\n              <label class=\"trip-sort__btn\" for=\"sort-time\">Time</label>\n            </div>\n\n            <div class=\"trip-sort__item  trip-sort__item--price\">\n              <input id=\"sort-price\" class=\"trip-sort__input  visually-hidden\" type=\"radio\" name=\"trip-sort\" value=\"sort-price\">\n              <label class=\"trip-sort__btn\" for=\"sort-price\">Price</label>\n            </div>\n\n            <div class=\"trip-sort__item  trip-sort__item--offer\">\n              <input id=\"sort-offer\" class=\"trip-sort__input  visually-hidden\" type=\"radio\" name=\"trip-sort\" value=\"sort-offer\" disabled>\n              <label class=\"trip-sort__btn\" for=\"sort-offer\">Offers</label>\n            </div>\n          </form>`);\n}\n\nexport default class SortView {\n  #element = null;\n\n  get element() {\n    if (!this.#element) {\n      this.#element = createElement(this.getTemplate());\n    }\n    return this.#element;\n  }\n\n  getTemplate() {\n    return createSortTemplate();\n  }\n\n  removeElement() {\n    this.#element = null;\n  }\n}\n","const destinations = [\n  {\n    id: '1',\n    description: 'Moscow uwu.',\n    name: 'Moscow',\n    pictures: [\n      {\n        src: 'https://loremflickr.com/248/152?random=1',\n        description: 'Moscow parliament building'\n      },\n      {\n        src: 'https://loremflickr.com/248/152?random=2',\n        description: 'Moscow street market'\n      },\n      {\n        src: 'https://loremflickr.com/248/152?random=3',\n        description: 'Moscow park'\n      }\n    ],\n  },\n  {\n    id: '2',\n    description: 'Chamonix, is a beautiful city, a true asian pearl, with crowded streets.',\n    name: 'Chamonix',\n    pictures: [\n      {\n        src: 'https://loremflickr.com/248/152?random=1',\n        description: 'Chamonix parliament building',\n      },\n    ],\n  },\n  {\n    id: '3',\n    description: 'Amsterdam is a cozy and clean city',\n    name: 'Amsterdam',\n    pictures: [\n      {\n        src: 'https://loremflickr.com/248/152?random=4',\n        description: 'Amsterdam canal'\n      },\n      {\n        src: 'https://loremflickr.com/248/152?random=5',\n        description: 'Amsterdam architecture'\n      }\n    ],\n  },\n  {\n    id: '4',\n    description: 'Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',\n    name: 'Geneva',\n    pictures: [\n      {\n        src: 'https://loremflickr.com/248/152?random=6',\n        description: 'Geneva lake'\n      },\n      {\n        src: 'https://loremflickr.com/248/152?random=7',\n        description: 'Geneva downtown'\n      },\n      {\n        src: 'https://loremflickr.com/248/152?random=8',\n        description: 'Geneva park'\n      }\n    ],\n  }\n];\n\nexport { destinations };\n","import FilterView from './view/filter-view.js';\nimport NewPointButtonView from './view/new-point-button-view.js';\nimport BoardPresenter from './presenter/board-presenter.js';\nimport DestinationsModel from './model/destinations-model.js';\nimport OffersModel from './model/offers-model.js';\nimport TripsModel from './model/trips-model.js';\nimport { render } from './render.js';\nimport { destinations } from './mock/destinations-data.js';\nimport { offers } from './mock/offers-data.js';\nimport { points } from './mock/points-data.js';\n\nconst mockService = {\n  destinations,\n  offers,\n  trips: points\n};\n\nconsole.log('Mock Service:', mockService); // Для отладки\n\nconst siteTripMainElement = document.querySelector('.trip-main');\nconst siteFiltersElement = siteTripMainElement.querySelector('.trip-controls__filters');\nconst siteTripEventsElement = document.querySelector('.trip-events');\n\nconst destinationsModel = new DestinationsModel(mockService);\nconst offersModel = new OffersModel(mockService);\nconst tripsModel = new TripsModel(mockService);\n\nconsole.log('Models:', { // Для отладки\n  destinations: destinationsModel.destinations,\n  offers: offersModel.offers,\n  trips: tripsModel.trips\n});\n\nconst boardPresenter = new BoardPresenter({\n  container: siteTripEventsElement,\n  destinationsModel,\n  offersModel,\n  tripsModel\n});\n\nrender(new FilterView(), siteFiltersElement);\nrender(new NewPointButtonView(), siteTripMainElement);\n\nboardPresenter.init();\n\n","const offers = [\n  {\n    type: 'taxi',\n    offers: [\n      {\n        id: '1',\n        title: 'Upgrade to a comfort class',\n        price: 200,\n      },\n      {\n        id: '2',\n        title: 'Order a meal',\n        price: 100,\n      },\n    ],\n  },\n  {\n    type: 'bus',\n    offers: [\n      {\n        id: '1',\n        title: 'Choose seats',\n        price: 50,\n      },\n      {\n        id: '2',\n        title: 'Upgrade to business class',\n        price: 120,\n      },\n    ],\n  },\n  {\n    type: 'ship',\n    offers: [\n      {\n        id: '1',\n        title: 'Add breakfast',\n        price: 100,\n      },\n      {\n        id: '2',\n        title: 'Add dinner',\n        price: 150,\n      },\n    ],\n  },\n  {\n    type: 'train',\n    offers: [\n      {\n        id: '1',\n        title: 'Book a cabin',\n        price: 200,\n      },\n    ],\n  },\n  {\n    type: 'flight',\n    offers: [\n      {\n        id: '1',\n        title: 'Add luggage',\n        price: 50,\n      },\n      {\n        id: '2',\n        title: 'Choose seats',\n        price: 70,\n      },\n    ],\n  },\n  {\n    type: 'check-in',\n    offers: [\n      {\n        id: '1',\n        title: 'Early check-in',\n        price: 150,\n      },\n    ],\n  },\n  {\n    type: 'sightseeing',\n    offers: [\n      {\n        id: '1',\n        title: 'Book a guide',\n        price: 100,\n      },\n    ],\n  },\n  {\n    type: 'restaurant',\n    offers: [\n      {\n        id: '1',\n        title: 'Reserve VIP table',\n        price: 200,\n      },\n    ],\n  },\n  {\n    type: 'drive',\n    offers: [\n      {\n        id: '1',\n        title: 'Rent a car',\n        price: 300,\n      },\n    ],\n  },\n];\n\nexport { offers };\n","const points = [\n  {\n    id: '1',\n    basePrice: 1100,\n    dateFrom: '2024-01-10T22:55:56.845Z',\n    dateTo: '2024-01-11T11:22:13.375Z',\n    destination: '1',\n    isFavorite: false,\n    offers: ['1'],\n    type: 'taxi',\n  },\n  {\n    id: '2',\n    basePrice: 1600,\n    dateFrom: '2024-01-12T10:55:56.845Z',\n    dateTo: '2024-01-13T12:22:15.375Z',\n    destination: '2',\n    isFavorite: true,\n    offers: ['2'],\n    type: 'bus',\n  },\n  {\n    id: '3',\n    basePrice: 2100,\n    dateFrom: '2024-01-14T16:05:56.845Z',\n    dateTo: '2024-01-15T19:44:13.375Z',\n    destination: '3',\n    isFavorite: false,\n    offers: ['1', '2'],\n    type: 'ship',\n  },\n];\n\nexport { points };\n","export default class DestinationsModel {\n  constructor(service) {\n    this.destinations = service.destinations;\n  }\n\n  getById(id) {\n    return this.destinations.find((destination) => destination.id === id);\n  }\n}\n","export default class OffersModel {\n  constructor(service) {\n    this.offers = service.offers;\n  }\n\n  getOffersByType(type) {\n    return this.offers.find((offer) => offer.type === type)?.offers;\n  }\n}\n","import { getRandomArrayElement } from '../utils.js';\n\nexport default class TripsModel {\n  constructor(service) {\n    this.trips = service.trips;\n  }\n\n  getRandomTrip() {\n    return getRandomArrayElement(this.trips);\n  }\n}\n","import { DateFormat, MINUTES_IN_HOUR } from './const.js';\n\nfunction getRandomArrayElement(items) {\n  return items[Math.floor(Math.random() * items.length)];\n}\n\nfunction capitalizeFirstLetter(word) {\n  if (!word) {\n    return '';\n  }\n  return word[0].toUpperCase() + word.slice(1);\n}\n\nfunction formatDate(date, format) {\n  const dateObj = new Date(date);\n\n  switch (format) {\n    case DateFormat.MONTH:\n      return dateObj.toLocaleString('en-US', { month: 'short' });\n    case DateFormat.DAY:\n      return dateObj.getDate().toString().padStart(2, '0');\n    case DateFormat.HOURS_MINUTES:\n      return dateObj.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: false });\n    case DateFormat.FULL:\n      return dateObj.toLocaleString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit',\n        hour12: false\n      });\n    default:\n      return date;\n  }\n}\n\nfunction getDuration(dateFrom, dateTo) {\n  const start = new Date(dateFrom);\n  const end = new Date(dateTo);\n  const diff = end - start;\n\n  const minutes = Math.floor(diff / 1000 / 60);\n  const hours = Math.floor(minutes / MINUTES_IN_HOUR);\n  const days = Math.floor(hours / 24);\n\n  if (days > 0) {\n    return `${days}D ${hours % 24}H ${minutes % MINUTES_IN_HOUR}M`;\n  }\n  if (hours > 0) {\n    return `${hours}H ${minutes % MINUTES_IN_HOUR}M`;\n  }\n  return `${minutes}M`;\n}\n\nexport { getRandomArrayElement, capitalizeFirstLetter, formatDate, getDuration };\n","import PointEditView from '../view/point-edit-view.js';\nimport BoardView from '../view/board-view.js';\nimport PointView from '../view/point-view.js';\nimport SortView from '../view/sort-view.js';\nimport { render } from '../render.js';\n\nexport default class BoardPresenter {\n  #boardComponent = new BoardView();\n  #container = null;\n  #destinationsModel = null;\n  #offersModel = null;\n  #tripsModel = null;\n\n  constructor({ container, destinationsModel, offersModel, tripsModel }) {\n    this.#container = container;\n    this.#destinationsModel = destinationsModel;\n    this.#offersModel = offersModel;\n    this.#tripsModel = tripsModel;\n  }\n\n  init() {\n    const points = this.#tripsModel.trips;\n    const destinations = this.#destinationsModel.destinations;\n    const offers = this.#offersModel.offers;\n\n    console.log('BoardPresenter init:', { points, destinations, offers }); // Для отладки\n\n    render(new SortView(), this.#container);\n    render(this.#boardComponent, this.#container);\n\n    // Отображаем форму редактирования для первой точки\n    if (points.length > 0) {\n      console.log('Rendering first point:', points[0]); // Для отладки\n      render(\n        new PointEditView(\n          points[0],\n          destinations,\n          offers\n        ),\n        this.#boardComponent.element\n      );\n    }\n\n    // Отображаем остальные точки\n    for (let i = 1; i < points.length; i++) {\n      console.log('Rendering point:', points[i]); // Для отладки\n      render(\n        new PointView(\n          points[i],\n          destinations,\n          offers\n        ),\n        this.#boardComponent.element\n      );\n    }\n  }\n}\n","import {createElement} from '../render.js';\n\nfunction createFilterTemplate() {\n  return (`<form class=\"trip-filters\" action=\"#\" method=\"get\">\n    <div class=\"trip-filters__filter\">\n      <input id=\"filter-everything\" class=\"trip-filters__filter-input  visually-hidden\" type=\"radio\" name=\"trip-filter\" value=\"everything\" checked>\n      <label class=\"trip-filters__filter-label\" for=\"filter-everything\">Everything</label>\n    </div>\n\n    <div class=\"trip-filters__filter\">\n      <input id=\"filter-future\" class=\"trip-filters__filter-input  visually-hidden\" type=\"radio\" name=\"trip-filter\" value=\"future\">\n      <label class=\"trip-filters__filter-label\" for=\"filter-future\">Future</label>\n    </div>\n\n    <div class=\"trip-filters__filter\">\n      <input id=\"filter-present\" class=\"trip-filters__filter-input  visually-hidden\" type=\"radio\" name=\"trip-filter\" value=\"present\">\n      <label class=\"trip-filters__filter-label\" for=\"filter-present\">Present</label>\n    </div>\n\n    <div class=\"trip-filters__filter\">\n      <input id=\"filter-past\" class=\"trip-filters__filter-input  visually-hidden\" type=\"radio\" name=\"trip-filter\" value=\"past\">\n      <label class=\"trip-filters__filter-label\" for=\"filter-past\">Past</label>\n    </div>\n    <button class=\"visually-hidden\" type=\"submit\">Accept filter</button>\n  </form>`);\n}\n\nexport default class FilterView {\n  #element = null;\n\n  get element() {\n    if (!this.#element) {\n      this.#element = createElement(this.getTemplate());\n    }\n\n    return this.#element;\n  }\n\n  getTemplate() {\n    return createFilterTemplate();\n  }\n\n  removeElement() {\n    this.#element = null;\n  }\n}\n","import { createElement } from '../render.js';\n\nconst createNewPointButtonTemplate = () => `\n  <button class=\"trip-main__event-add-btn  btn  btn--big  btn--yellow\" type=\"button\">New event</button>\n`;\n\nexport default class NewPointButtonView {\n  #element = null;\n\n  get element() {\n    if (!this.#element) {\n      this.#element = createElement(this.getTemplate());\n    }\n    return this.#element;\n  }\n\n  getTemplate() {\n    return createNewPointButtonTemplate();\n  }\n\n  removeElement() {\n    this.#element = null;\n  }\n}\n"],"names":["createElement","template","newElement","document","innerHTML","firstElementChild","render","component","container","place","insertAdjacentElement","element","POINT_TYPES","PointEditView","constructor","point","destinations","offers","this","type","destination","destinationId","basePrice","dateFrom","Date","dateTo","selectedOffers","find","dest","id","availableOffers","offer","map","pointType","currentType","charAt","toUpperCase","slice","join","name","createDestinationListTemplate","length","includes","title","price","createOffersTemplate","description","pictures","picture","src","createDestinationTemplate","createPointEditTemplate","removeElement","BoardView","formatTime","date","toLocaleTimeString","hour","minute","hour12","PointView","dateObj","toLocaleString","month","getDate","toString","padStart","formatDate","start","diff","minutes","Math","floor","hours","days","getDuration","filter","createSelectedOffersTemplate","isFavorite","createPointTemplate","SortView","getTemplate","mockService","trips","console","log","siteTripMainElement","querySelector","siteFiltersElement","siteTripEventsElement","destinationsModel","service","getById","offersModel","getOffersByType","tripsModel","getRandomTrip","items","random","boardPresenter","init","points","i"],"sourceRoot":""}